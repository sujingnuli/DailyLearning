<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <script src="../Scripts/jquery-1.8.2.min.js"></script>
    <script src="../Scripts/knockout-2.2.0.js"></script>
   
</head>
<body>
     <a  id="getUserInfos" >获取</a>
     <ul data-bind="template: {name:'userinfoTemplate',foreach:userinfos}"></ul>
      <script type="text/html" id="userinfoTemplate">
          <li class="userinfo">
              <header>
                  <div class="info">
                      <strong><span data-bind="text:Name"></span></strong>
                  </div>
              </header>
              <div class="body">
                  <p data-bind="text:Age"></p>
              </div>
          </li>
      </script> 
    <script type="text/javascript">
         var viewModel = {
             userinfos: ko.observableArray([])
         };
         ko.applyBindings(viewModel);
         $(function () {
             $("#getUserInfos").click(function () {
                 viewModel.userinfos([]);
                 $.get('/api/userInfo', function (data) {
                     viewModel.userinfos(data);
                 });
             });
         });
    </script>
</body>
</html>
